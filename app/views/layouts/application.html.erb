<!DOCTYPE html>
<html>
  <head>
    <title>Cookgram</title>
    <%= csrf_meta_tags %>
    <%= csp_meta_tag %>
    
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title><%= content_for?(:title) ? yield(:title) : "Cookgram" %></title>
    <!-- add icon link -->
    <link rel = "icon" href = "https://storage.cloud.google.com/cookgram_bucket/cookgram_logo.png?" type = "image/x-icon">
    <%= stylesheet_link_tag 'application', media: 'all', 'data-turbolinks-track': 'reload' %>
    <%= stylesheet_pack_tag 'application', media: 'all', 'data-turbolinks-track': 'reload' %>
    <%= javascript_pack_tag 'application', 'data-turbolinks-track': 'reload' %>
  </head>

  <body class="<%= controller_name %> <%= action_name %> mx-auto" style="max-width: 1350px;">
    <% devise_controller = ['registrations', 'sessions', 'confirmations', 'passwords']  %>
    <%= render 'layouts/navbar' unless devise_controller.include? controller_name %>
    <%= yield %>
    <%= toastr_flash %>
    <%= render 'layouts/footer' unless devise_controller.include? controller_name %>
    <script type="text/javascript">
        /* NOTE : Use web server to view HTML files as real-time update will not work if you directly open the HTML file in the browser. */
        (function(d, m){
          var kommunicateSettings = {"appId":"1509e56c10d07baf0747af212937a2c0f","popupWidget":true,"automaticChatOpenOnNavigation":true};
          var s = document.createElement("script"); s.type = "text/javascript"; s.async = true;
          s.src = "https://widget.kommunicate.io/v2/kommunicate.app";
          var h = document.getElementsByTagName("head")[0]; h.appendChild(s);
          window.kommunicate = m; m._globals = kommunicateSettings;
        })(document, window.kommunicate || {});
    </script>
  </body>
</html>
